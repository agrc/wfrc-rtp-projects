{
  "$id": "https://wfrc.org/??/config.schema.json",
  "$schema": "http://json-schema.org/draft/2019-09/schema#",
  "definitions": {
    "projectType": {
      "title": "Project Type",
      "type": "object",
      "additionalProperties": false,
      "required": ["points", "lines"],
      "properties": {
        "points": {
          "title": "Points Query",
          "description": "The query that will be applied to the point layers",
          "type": ["string", "null"]
        },
        "lines": {
          "title": "Lines Query",
          "description": "The query that will be applied to the line layers",
          "type": ["string", "null"]
        },
        "offByDefault": {
          "title": "Off By Default",
          "description": "Whether the associated checkbox is off on app load",
          "type": "boolean"
        },
        "useAnd": {
          "title": "Use AND",
          "description": "Whether the query should use AND or OR",
          "type": "boolean"
        }
      }
    },
    "translation": {
      "title": "Translation",
      "type": "object",
      "properties": {
        "mapTabsDialog": {
          "type": "object",
          "additionalProperties": {
            "type": "string"
          },
          "required": ["title", "availableHeader", "selectedHeader", "maxMessage"]
        }
      },
      "additionalProperties": {
        "oneOf": [
          {
            "type": "string"
          },
          {
            "type": "object"
          }
        ]
      }
    }
  },
  "title": "WFRC RTP Projects Application Configuration",
  "type": "object",
  "additionalProperties": false,
  "required": ["filter", "sherlock", "openOnLoad", "translations", "projectInformation"],
  "properties": {
    "filter": {
      "title": "Filter Widget Configuration",
      "description": "Configuration options for the filter widget",
      "type": "object",
      "additionalProperties": false,
      "required": ["infoText", "projectTypes", "disableAdvanced"],
      "properties": {
        "infoText": {
          "title": "Info Popup Content",
          "description": "An object that contains the content that will show up in the info popups",
          "type": "object",
          "additionalProperties": false,
          "required": ["simpleMode", "simplePhase", "projectType", "phaseYears", "cost"],
          "properties": {
            "simpleMode": {
              "title": "Simple Filter - Mode Tab",
              "type": "string"
            },
            "simplePhase": {
              "title": "Simple Filter - Phase Tab",
              "type": "string"
            },
            "projectType": {
              "title": "Advanced Filter - Project Types",
              "type": "string"
            },
            "phaseYears": {
              "title": "Advanced Filter - Phase Years",
              "type": "string"
            },
            "cost": {
              "title": "Advanced Filter - Cost",
              "type": "string"
            }
          }
        },
        "projectTypes": {
          "title": "Project Types",
          "description": "An array of project types",
          "type": "object",
          "additionalProperties": false,
          "required": ["road", "transit", "activeTransportation"],
          "properties": {
            "road": {
              "title": "Road",
              "type": "object",
              "additionalProperties": {
                "$ref": "#/definitions/projectType"
              }
            },
            "transit": {
              "title": "Transit",
              "type": "object",
              "additionalProperties": {
                "$ref": "#/definitions/projectType"
              }
            },
            "activeTransportation": {
              "title": "Active Transportation",
              "type": "object",
              "additionalProperties": {
                "$ref": "#/definitions/projectType"
              }
            }
          }
        },
        "disableAdvanced": {
          "title": "Disable Advanced Filter",
          "description": "Whether the advanced filter should be disabled",
          "type": "boolean"
        }
      }
    },
    "sherlock": {
      "description": "Configuration options for the map search widget",
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "serviceUrl": {
          "description": "The URL to the service that you would like to search features on.",
          "type": "string"
        },
        "searchField": {
          "description": "The name of the field that you would like the search to be applied to.",
          "type": "string"
        },
        "placeHolder": {
          "description": "The place holder text that shows up in the text box before a user starts typing.",
          "type": "string"
        }
      },
      "required": ["serviceUrl", "searchField"]
    },
    "openOnLoad": {
      "description": "Controls whether specific map widgets default to be open on page load",
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "projectInfo": {
          "type": "boolean"
        },
        "filter": {
          "type": "boolean"
        }
      }
    },
    "translations": {
      "description": "Contains the translated strings used in the app. Falls back to `en` if there is no other translation. Most strings in the other configs can be translated by using this format: `trans:<key>`. For example: `trans:visionMapTitle`.",
      "title": "Translations",
      "type": "object",
      "properties": {
        "en": {
          "type": "object",
          "properties": {
            "translation": {
              "$ref": "#/definitions/translation",
              "required": [
                "appTitle",
                "tagLine",
                "mapTabsDialog",
                "searchPlaceholder",
                "filter",
                "filterByPhasing",
                "reset",
                "projectInformation",
                "projectInformationPrompt"
              ]
            }
          },
          "required": ["translation"],
          "additionalProperties": false
        }
      },
      "additionalProperties": {
        "type": "object",
        "properties": {
          "translation": {
            "$ref": "#/definitions/translation"
          }
        },
        "required": ["translation"],
        "additionalProperties": false
      },
      "required": ["en"]
    },
    "projectInformation": {
      "title": "Project Information Widget Config",
      "description": "Configuration options for the project information widget",
      "type": "object",
      "additionalProperties": false,
      "required": ["commentsEnabled", "commentsTableUrl", "newCommentsOpenUntil", "fieldNames"],
      "properties": {
        "commentsEnabled": {
          "title": "Comments Enabled",
          "description": "Whether the comments widget is enabled",
          "type": "boolean"
        },
        "commentsTableUrl": {
          "title": "Comments Table URL",
          "description": "The URL to the feature service endpoint for the comments table",
          "type": "string"
        },
        "newCommentsOpenUntil": {
          "title": "New Comments Open Until",
          "description": "The date after which new comments will no longer be accepted.",
          "type": "string"
        },
        "fieldNames": {
          "title": "Field Names",
          "description": "An object that contains the field names for the comments table",
          "type": "object",
          "additionalProperties": false,
          "required": ["globalId", "personName", "personOrg", "personCont", "comment", "commentDt", "guid"],
          "properties": {
            "globalId": {
              "title": "Global ID",
              "type": "string"
            },
            "personName": {
              "title": "Person Name",
              "type": "string"
            },
            "personOrg": {
              "title": "Person Organization",
              "type": "string"
            },
            "personCont": {
              "title": "Person Contact",
              "type": "string"
            },
            "comment": {
              "title": "Comment",
              "type": "string"
            },
            "commentDt": {
              "title": "Comment Date",
              "type": "string"
            },
            "guid": {
              "title": "GUID",
              "type": "string"
            }
          }
        }
      }
    }
  }
}
